
{
    "version": "2.0.0",
    "tasks": [
		{
            "label": "Build All",
            "dependsOn": [
                "Compile logger object",
                "Compile configuration object",
                "Compile utilities object",
                "Compile EncoderFactory object",
                "Compile Encoder_ffmpeg object",
                "Compile Encoder_Handbrake object",
                "Create Static Library",
                "Build Main Program"
            ],
            "group": {
                "kind": "build",
                "isDefault": true
            }
        },
		{
            "label": "Compile logger object",
            "type": "shell",
            "command": "g++",
            "args": [
                "-c",
                "${workspaceFolder}/library/logger.cpp",
                "-o",
                "${workspaceFolder}/build/logger.o"
            ],
            "group": "build",
            "problemMatcher": ["$gcc"]
        },
		{
            "label": "Compile configuration object",
            "type": "shell",
            "command": "g++",
            "args": [
                "-c",
                "${workspaceFolder}/library/configuration.cpp",
                "-o",
                "${workspaceFolder}/build/configuration.o"
            ],
            "group": "build",
            "problemMatcher": ["$gcc"]
        },
		{
            "label": "Compile utilities object",
            "type": "shell",
            "command": "g++",
            "args": [
                "-c",
                "${workspaceFolder}/library/utilities.cpp",
                "-o",
                "${workspaceFolder}/build/utilities.o"
            ],
            "group": "build",
            "problemMatcher": ["$gcc"]
        },
		{
            "label": "Compile EncoderFactory object",
            "type": "shell",
            "command": "g++",
            "args": [
                "-c",
                "${workspaceFolder}/library/EncoderFactory.cpp",
                "-o",
                "${workspaceFolder}/build/EncoderFactory.o"
            ],
            "group": "build",
            "problemMatcher": ["$gcc"]
        },
		{
            "label": "Compile Encoder_ffmpeg object",
            "type": "shell",
            "command": "g++",
            "args": [
                "-c",
                "${workspaceFolder}/library/Encoder_ffmpeg.cpp",
                "-o",
                "${workspaceFolder}/build/Encoder_ffmpeg.o"
            ],
            "group": "build",
            "problemMatcher": ["$gcc"]
        },
        {
            "label": "Compile Encoder_Handbrake object",
            "type": "shell",
            "command": "g++",
            "args": [
                "-c",
                "${workspaceFolder}/library/Encoder_Handbrake.cpp",
                "-o",
                "${workspaceFolder}/build/Encoder_Handbrake.o"
            ],
            "group": "build",
            "problemMatcher": ["$gcc"]
        },
        {
			"label": "Create Static Library",
			"type": "shell",
			"command": "ar",
			"args": [
				"rcs",
				"${workspaceFolder}/build/libencoder_utilities.a",
				"${workspaceFolder}/build/logger.o",
				"${workspaceFolder}/build/configuration.o",
				"${workspaceFolder}/build/utilities.o",
				"${workspaceFolder}/build/EncoderFactory.o",
                "${workspaceFolder}/build/Encoder_ffmpeg.o",
                "${workspaceFolder}/build/Encoder_Handbrake.o"
			],
			"group": "build",
			"problemMatcher": ["$gcc"]
		},
        {
            "label": "Build Main Program",
            "type": "shell",
            "command": "g++",  // Change this if using a different compiler
            "args": [
                "-g",  // Include debug inf
				// o
                "${workspaceFolder}/*.cpp",  // Specify your source files
                "-o",
                "${workspaceFolder}/bin/test",  // Adjust to your desired output file name
				"-L${workspaceFolder}/build",  // Path to your library if it's in a specific folder
				"-L/usr/local/lib",
				"-I/usr/local/include",
				"-l:libencoder_utilities.a",  // Name of your library without the prefix (e.g., 'lib' or '.a')
				"-lyaml-cpp"

            ],
            "group": {
                "kind": "build",
                "isDefault": true
            },
            "problemMatcher": ["$gcc"]
        }
    ]
}